# Guest Portal (民泊 BYOD プラットフォーム)

本アプリケーションは、民泊（Minpaku）向けのゲスト体験プラットフォーム（フロントエンド）です。ゲストが自身のスマートフォン（BYOD）を使ってアクセスすることを前提に設計されています。

## 🚀 現在のステータス (実装フェーズ 1)

**完成度: 90% (フロントエンド/UX体験)**

コアとなるユーザー体験とフロントエンドロジックの実装が完了しました。モバイルデバイスでの利用を想定し、**Glassmorphism（すりガラス）**を取り入れたプレミアムなデザインを採用しています。

### ✅ 実装済みの機能
*   **プレミアム UX/UI**: ダークモードを基調とし、Framer Motionによる滑らかなアニメーションを実装。
*   **チェックインウィザード**: 予約特定 → 本人確認 → 宿泊者名簿提出（法令対応） → 宿泊税決済 までの一連のフロー。
*   **AIコンシェルジュ**: OpenAI APIと連携したチャットインターフェース（APIキー未設定時はデモモードで動作）。
*   **拡張機能**: アメニティの追加依頼（カウンターUI）、周辺観光スポット案内。
*   **アーキテクチャ**: Next.js App RouterとTypeScriptを用いた、拡張性の高いMonorepo構成。

### 🚧 今後の課題・ロードマップ (Next Steps)
「プロトタイプ」から「実運用（Production）」へ移行するために、以下のバックエンド連携が必要です：

1.  **データベースの実装 (永続化)**:
    *   現在はZustandによる一時的な状態管理のみです。
    *   Prisma等を用いて、PostgreSQLやSQLiteへ宿泊者名簿データを実際に保存する仕組みが必要です。
2.  **決済バックエンドの連携**:
    *   StripeのUIは実装済みですが、サーバー側での `PaymentIntent` 作成処理が必要です。
3.  **管理画面 (Staff Dashboard)**:
    *   スタッフが提出された名簿やアメニティ依頼を確認するための管理画面が別途必要です。

## 🛠 技術スタック
*   **Framework**: Next.js 14+ (App Router)
*   **Styling**: TailwindCSS v4
*   **Animation**: Framer Motion
*   **State Management**: Zustand
*   **Forms**: React Hook Form + Zod
*   **AI**: OpenAI API

## 💻 起動方法

1.  **依存関係のインストール**
    ```bash
    npm install
    ```

2.  **開発サーバーの起動**
    ```bash
    npm run dev
    ```

3.  **環境変数の設定 (任意)**
    `.env.local` ファイルを作成し、OpenAIのAPIキーを設定するとAIチャットが実際に動作します。
    ```env
    OPENAI_API_KEY=sk-...
    ```

## 💡 アイデア / 機能追加の議論 (Discussion)
さらなるゲスト体験の向上と収益化に向けた、追加機能のアイデアリストです。

### 1. ゲスト体験の深化 (Guest Experience)
*   **スマートロック連携 (Direct Unlock)**:
    *   現在は暗証番号の表示のみですが、API連携によりアプリ上の「Unlock」ボタンで直接解錠できるようにする。
    *   *メリット*: 利便性向上、紛失リスクゼロ。
*   **IoT家電コントロール (Smart Room)**:
    *   「電気を消して」「エアコンを24度に」などの操作をWebアプリから実⾏。
    *   *メリット*: 先進的な宿泊体験の提供。
*   **荷物配送 / 預かり手配**:
    *   チェックアウト後の荷物配送（ヤマト運輸連携など）や、駅でのロッカー予約。
    *   *メリット*: 手ぶら観光の推進。

### 2. 収益化・アップセル (Monetization)
*   **レイトチェックアウト / アーリーチェックイン課金**:
    *   空室状況と連動し、追加料金を支払うことで滞在時間を延長できる機能。
    *   *メリット*: 単価アップ、柔軟な滞在。
*   **ルームサービス / デリバリー連携**:
    *   提携レストランからの食事デリバリーや、朝食の予約。
    *   *メリット*: 地元経済への貢献と手数料収入。
*   **アクティビティ・ツアー予約**:
    *   地域の体験ツアーやチケットの直接購入。

### 3. 安心・安全 (Safety & Trust)
*   **緊急時ワンタップコール**:
    *   警察・救急・消防への緊急連絡ボタン（多言語対応の定型文表示など）。
    *   *メリット*: 訪日外国人の不安解消。
*   **有人サポートチャット**:
    *   AIで解決できない問い合せを、人間のスタッフにシームレスにエスカレーション。

### 4. ロイヤリティ (Engagement)
*   **デジタルゲストブック**:
    *   過去の宿泊者がおすすめのお店などを書き残せる機能。
    *   *メリット*: コミュニティ感の醸成。
*   **近隣店舗クーポン**:
    *   地域の飲食店と提携したQRクーポンの配布。

# システム全体としての追加考慮事項 (Broader System Considerations)

機能面（Check-in等）以外で、実運用に向けてシステムとして考慮すべき重要な観点です。

## 1. 法的要件とコンプライアンス (Legal & Compliance)
民泊新法（住宅宿泊事業法）および旅館業法に基づく要件への適合が必須です。

*   **宿泊者名簿の保存義務**:
    *   法令で定められた期間（通常3年）、正確な宿泊者情報を保存する義務があります。
    *   **対策**: DBのバックアップ戦略と、誤削除防止機構（Soft Delete）の実装。
*   **本人確認の厳格化**:
    *   対面と同等の本人確認（ビデオ通話や、パスポートのICチップ読み取り等）が求められる自治体があります。
    *   **対策**: 必要に応じて、本人確認API（eKYC事業者）との連携機能。
*   **個人情報保護 (GDPR / APPI)**:
    *   パスポート画像などの機微情報の取り扱い。特に海外ゲスト（EU圏）を含む場合、GDPRへの配慮が必要になる場合があります。
    *   **対策**: プライバシーポリシーの明示と同意取得フロー。データの暗号化保存 (Encryption at Rest)。

## 2. インフラと運用 (Infrastructure & Ops)
システムが「動いていること」を保証・監視する仕組みです。

*   **エラー監視 (Error Tracking)**:
    *   ゲストがチェックインできない＝**部屋に入れない**というクリティカルな事態になります。
    *   **対策**: Sentryなどのエラートラッキング導入。エラー発生時に即座に管理者に通知（Slack/LINE通知）が飛ぶ仕組み。
*   **ログ監査 (Audit Logging)**:
    *   「いつ、誰が、どの部屋を解錠したか」の記録は、トラブル時の証拠として重要です。
*   **稼働監視 (Uptime Monitoring)**:
    *   定期的なPing監視（UptimeRobot等）で、サーバーダウンをいち早く検知する。

## 3. 災害対策とオフライン対応 (Disaster Recovery)
システムダウン時や、通信障害時の対応。

*   **フォールバック手段 (Fallback)**:
    *   システムが完全にダウンした際、ゲストはどうやって入室するか？
    *   **対策**: 緊急連絡先（電話）の常時表示。物理キーボックスの併用など、**デジタルに依存しきらないBCP（事業継続計画）**の策定。
*   **オフライン動作 (PWA)**:
    *   電波状況が悪い場所でも、一度読み込めば最低限の情報（解錠コードなど）が表示できるよう、Service Workerによるキャッシュ（PWA化）を検討。

## 4. アクセシビリティ (Accessibility)
*   **多様なゲストへの対応**:
    *   視覚障害者（スクリーンリーダー利用者）や高齢者への配慮。
    *   **対策**: Semantic HTMLの徹底、適切なコントラスト比、文字サイズ変更機能。

## 結論 (Summary)
最もリスクが高いのは「**システムが落ちてゲストが部屋に入れない**」ことです。
機能開発と同じくらい、**「エラー検知」「緊急時の運用フロー」の設計**にリソースを割く必要があります。
